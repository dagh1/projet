{% extends 'base.html.twig' %}

{% block title %} Gestion societe{% endblock %}

{% block body %}

    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-content">
                    <h4 class="card-title">Liste des societes</h4>

                    <form action="{{ path('espace_etudiant_societe_chercher') }}" method="get">
                        {{ render(controller('App\\Controller\\DefaultController:formulaireChercherSociete')) }}
                    </form>

                    <hr style="border: 1px solid cadetblue">

                    {% if societes %}
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                <tr>
                                    <th class="col-lg-3">Nom</th>
                                    <th class="col-lg-2">Email</th>
                                    <th class="col-lg-2">Telephone</th>
                                    <th class="col-lg-1">Ville</th>
                                    <th class="col-lg-4">Domaines</th>
                                </tr>
                                </thead>
                                <tbody>
                                {% for societe in societes %}
                                    <tr>
                                        <td>{{ societe.nom|capitalize }}</td>
                                        <td>{{ societe.email }}</td>
                                        <td>{{ societe.telephone }}</td>
                                        <td>{{ societe.ville.nom|capitalize }}</td>
                                        <td>
                                            {% for domaine in societe.domaines %}
                                                - {{ domaine.nom }}<br>
                                            {% endfor %}
                                        </td>
                                    </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    {% else %}
                        <div class="alert alert-danger">
                            <h5>Aucun résultat n'a été trouvé.</h5>
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

{% endblock %}
